{"version":3,"sources":["pnp-provisioning.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","$pnp","Provisioning","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","factory","v","undefined","util_1","Dictionary","keys","values","prototype","get","key","index","indexOf","add","push","merge","source","Util","isFunction","sourceAsDictionary","getKeys","sourceAsHash","hasOwnProperty","remove","val","splice","getValues","clear","count","../utils/util","2","setRuntimeConfig","config","_runtimeConfig","set","RuntimeConfigImpl","_headers","headers","Object","defineProperty","enumerable","configurable","RuntimeConfig","3","fetchClient_1","digestCache_1","pnplibconfig_1","HttpClient","_impl","FetchClient","_digestCache","DigestCache","fetch","url","options","opts","extend","cache","credentials","Headers","mergeHeaders","has","append","method","toUpperCase","webUrl","substr","getDigest","then","digest","fetchRaw","_this","retry","ctx","response","resolve","delay","status","reject","attempts","retryCount","setTimeout","getCtxCallback","Promise","retryContext","post","target","temp","Request","forEach","value","name","../configuration/pnplibconfig","./digestCache","./fetchClient","4","collections_1","odata_1","CachedDigest","_httpClient","_digests","cachedDigest","now","Date","expiration","combinePaths","Accept","Content-type","parser","ODataDefaultParser","parse","d","GetContextWebInformation","data","newCachedDigest","FormDigestValue","seconds","FormDigestTimeoutSeconds","setTime","getTime","../collections/collections","../sharepoint/rest/odata","5","6","__extends","b","__","constructor","p","create","ObjectHandlerBase_1","ObjectComposedLook","_super","ProvisionObjects","object","scope_started","clientContext","SP","ClientContext","get_current","web","get_web","colorPaletteUrl","ColorPaletteUrl","replaceUrlTokens","fontSchemeUrl","FontSchemeUrl","backgroundImageUrl","BackgroundImageUrl","applyTheme","getRelativeUrl","update","executeQueryAsync","scope_ended","ObjectHandlerBase","../util","./ObjectHandlerBase","7","ObjectCustomActions","customactions","userCustomActions","get_userCustomActions","load","obj","objExists","get_data","filter","userCustomAction","get_title","Title","objCreationInformation","Description","set_description","CommandUIExtension","set_commandUIExtension","Group","set_group","set_title","Url","set_url","ScriptBlock","set_scriptBlock","ScriptSrc","set_scriptSrc","Location","set_location","ImageUrl","set_imageUrl","Name","set_name","RegistrationId","set_registrationId","RegistrationType","set_registrationType","Rights","set_rights","Sequence","set_sequence","8","ObjectFeatures","features","webFeatures","get_features","Deactivate","Guid","ID","FeatureDefinitionScope","none","9","CoreUtil","ObjectFiles","objects","fileInfos","promises","httpClient","Src","text","all","responses","filename","GetFilenameFromFilePath","Dest","webServerRelativeUrl","_spPageContextInfo","folder","getFolderByServerRelativeUrl","GetFolderFromFilePath","fi","Contents","Filename","Folder","Instance","Overwrite","Properties","RemoveExistingWebParts","ServerRelativeUrl","Views","WebParts","FileCreationInformation","set_overwrite","set_content","Base64EncodedByteArray","get_content","charCodeAt","get_files","ApplyFileProperties","AddWebPartsToWebPartPage","ModifyHiddenViews","error","RemoveWebPartsFromFileIfSpecified","limitedWebPartManager","shouldRemoveExisting","existingWebParts","get_webParts","wp","deleteWebPart","GetWebPartXml","webParts","FileUrl","fileUrl","res","rej","Xml","dest","src","fileServerRelativeUrl","file","getFileByServerRelativeUrl","getLimitedWebPartManager","PersonalizationScope","shared","webPartsWithXml","oWebPartDefinition","importWebPart","oWebPart","get_webPart","addWebPart","Zone","Order","fileProperties","listItemAllFields","get_listItemAllFields","set_item","GetViewFromCollectionByUrl","viewCollection","serverRelativeUrl","viewCollectionEnumerator","getEnumerator","moveNext","view","get_serverRelativeUrl","toString","toLowerCase","mapping","lists","listViewCollections","List","get_lists","getByTitle","get_views","views","list","Paged","set_paged","Query","set_viewQuery","RowLimit","set_rowLimit","ViewFields","columns_1","get_viewFields","removeAll","vf","filePath","split","join","../../../utils/util","10","HttpClient_1","logging_1","parameters","Logger","write","../../../net/HttpClient","../../../utils/logging","11","Sequencer_1","ObjectLists","listInstances","existingObj","EnableVersioning","set_enableVersioning","EnableMinorVersions","set_enableMinorVersions","EnableModeration","set_enableModeration","EnableFolderCreation","set_enableFolderCreation","EnableAttachments","set_enableAttachments","NoCrawl","set_noCrawl","DefaultDisplayFormUrl","set_defaultDisplayFormUrl","DefaultEditFormUrl","set_defaultEditFormUrl","DefaultNewFormUrl","set_defaultNewFormUrl","DraftVersionVisibility","set_draftVersionVisibility","DraftVisibilityType","Hidden","set_hidden","ForceCheckout","set_forceCheckout","ListCreationInformation","OnQuickLaunch","QuickLaunchOptions","on","off","set_quickLaunchOption","TemplateType","set_templateType","createdList","toLocaleLowerCase","sequencer","Sequencer","ApplyContentTypeBindings","ApplyListInstanceFieldRefs","ApplyFields","ApplyLookupFields","ApplyListSecurity","CreateViews","InsertDataRows","CreateFolders","ListInstances","Objects","execute","EnsureLocationBasedMetadataDefaultsReceiver","eventReceivers","get_eventReceivers","eventRecCreationInfo","EventReceiverDefinitionCreationInformation","set_receiverName","set_synchronization","set_sequenceNumber","set_receiverAssembly","set_receiverClass","set_eventType","EventReceiverType","itemAdded","params","Folders","folderServerRelativeUrl","rootFolder","get_rootFolder","metadataDefaults","setMetadataDefaults","folderUrl","get_folders","DefaultValues","metadataDefaultsFileCreateInfo","webCts","get_site","get_rootWeb","get_contentTypes","listCts","ContentTypeBindings","set_contentTypesEnabled","listContentTypes","existingContentTypes","Array","RemoveExistingContentTypes","ct","ctb","addExistingContentType","getById","ContentTypeId","j","ect","deleteObject","siteFields","get_fields","FieldRefs","fr","field","getByInternalNameOrTitle","Fields","fieldXml","GetFieldXml","fieldType","GetFieldXmlAttr","addFieldAsXml","AddFieldOptions","addToAllContentTypes","attr","regex","RegExp","match","exec","SchemaXml","properties_1","prop","targetList","get_id","Type","Formula","Security","BreakRoleInheritance","breakRoleInheritance","CopyRoleAssignments","ClearSubscopes","get_roleAssignments","allProperties","get_allProperties","siteGroups","get_siteGroups","roleDefinitions","get_roleDefinitions","RoleAssignments","ra","roleDef","RoleDefinition","getByName","roleBindings","RoleDefinitionBindingCollection","newObject","principal","Principal","token","substring","groupId","get_fieldValues","viewExists","ev","RemoveExistingViews","Scope","set_scope","viewCreationInformation","ViewCreationInformation","PersonalView","set_personalView","set_query","SetAsDefaultView","set_setAsDefaultView","set_viewFields","ViewTypeKind","set_viewTypeKind","ViewType","html","DataRows","item","addItem","ListItemCreationInformation","../Sequencer/Sequencer","12","ObjectNavigation","navigation","get_navigation","ConfigureQuickLaunch","QuickLaunch","getNodeFromCollectionByTitle","nodeCollection","title","nodes","quickLaunchNodeCollection_1","get_quickLaunch","temporaryQuickLaunch","get_count","oldNode","itemAt","existingNode","newNode","NavigationNodeCreationInformation","get_url","set_asLastNode","webAbsoluteUrl","json","node","getNodeById","Id","childrenNodeCollection","get_children","parentNode","Children","13","ObjectPropertyBagEntries","entries","clientContext_1","web_1","propBag_1","indexedProperties_1","entry","Key","Value","Indexed","encodePropertyKey","14","ObjectWebSettings","WelcomePage","set_welcomePage","MasterUrl","set_masterUrl","CustomMasterUrl","set_customMasterUrl","SaveSiteAsTemplateEnabled","set_saveSiteAsTemplateEnabled","QuickLaunchEnabled","TreeViewEnabled","set_treeViewEnabled","15","ProvisioningStep","handler","dependentPromise","_handler","16","functions","parameter","scope","progressFunction","promiseSequence","sequenceFunction","functionNr","result","17","ProvisioningStep_1","ObjectNavigation_1","ObjectPropertyBagEntries_1","ObjectFeatures_1","ObjectWebSettings_1","ObjectComposedLook_1","ObjectCustomActions_1","ObjectFiles_1","ObjectLists_1","handlers","Navigation","PropertyBagEntries","Features","WebSettings","ComposedLook","CustomActions","Files","Lists","applyTemplate","path","ok","template","start","statusText","LogLevel","queue","startTime","queueItems","q","Parameters","Info","JSON","stringify","../../net/HttpClient","../../utils/logging","./ObjectHandlers/ObjectComposedLook","./ObjectHandlers/ObjectCustomActions","./ObjectHandlers/ObjectFeatures","./ObjectHandlers/ObjectFiles","./ObjectHandlers/ObjectLists","./ObjectHandlers/ObjectNavigation","./ObjectHandlers/ObjectPropertyBagEntries","./ObjectHandlers/ObjectWebSettings","./ProvisioningStep","./util","18","replace","document","location","protocol","hostname","siteAbsoluteUrl","propKey","bytes","b64encoded","btoa","String","fromCharCode","apply","19","getEntityUrl","entity","__metadata","uri","Warning","ODataValue","ODataValueParserImpl","ODataEntity","ODataEntityParserImpl","ODataEntityArray","ODataEntityArrayParserImpl","ODataParserBase","results","arguments","ODataRawParserImpl","map","ODataRaw","../../utils/util","20","instance","activeLogLevel","_instance","LoggerImpl","subscribe","listeners","_i","clearSubscribers","message","level","Verbose","log","measure","subscribers","listener","slice","console","profile","profileEnd","ConsoleListener","msg","format","warn","AzureInsightsListener","azureInsightsInstrumentationKey","appInsights","createElement","getElementsByTagName","appendChild","cookie","pop","disableExceptionTracking","instrumentationKey","ai","trackException","trackEvent","FunctionListener","21","context","urlParamExists","test","search","getUrlParamByName","decodeURIComponent","getUrlParamBoolByName","isFalse","stringInsert","dateAdd","date","interval","units","ret","toLocaleString","setFullYear","getFullYear","setMonth","getMonth","setDate","getDate","loadStylesheet","avoidCache","encodeURIComponent","head","setAttribute","paths","parts","getRandomString","chars","possible","charAt","Math","floor","random","getGUID","guid","c","candidateFunction","isArray","array","stringIsNullOrEmpty","noOverwrite","id","check","applyMixins","derivedCtor","baseCtors","baseCtor","getOwnPropertyNames","isUrlAbsolute"],"mappings":"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","file":"pnp-provisioning.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}(g.$pnp || (g.$pnp = {})).Provisioning = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", \"../utils/util\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var util_1 = require(\"../utils/util\");\n    var Dictionary = (function () {\n        function Dictionary() {\n            this.keys = [];\n            this.values = [];\n        }\n        Dictionary.prototype.get = function (key) {\n            var index = this.keys.indexOf(key);\n            if (index < 0) {\n                return null;\n            }\n            return this.values[index];\n        };\n        Dictionary.prototype.add = function (key, o) {\n            var index = this.keys.indexOf(key);\n            if (index > -1) {\n                this.values[index] = o;\n            }\n            else {\n                this.keys.push(key);\n                this.values.push(o);\n            }\n        };\n        Dictionary.prototype.merge = function (source) {\n            if (util_1.Util.isFunction(source[\"getKeys\"])) {\n                var sourceAsDictionary = source;\n                var keys = sourceAsDictionary.getKeys();\n                var l = keys.length;\n                for (var i = 0; i < l; i++) {\n                    this.add(keys[i], sourceAsDictionary.get(keys[i]));\n                }\n            }\n            else {\n                var sourceAsHash = source;\n                for (var key in sourceAsHash) {\n                    if (sourceAsHash.hasOwnProperty(key)) {\n                        this.add(key, source[key]);\n                    }\n                }\n            }\n        };\n        Dictionary.prototype.remove = function (key) {\n            var index = this.keys.indexOf(key);\n            if (index < 0) {\n                return null;\n            }\n            var val = this.values[index];\n            this.keys.splice(index, 1);\n            this.values.splice(index, 1);\n            return val;\n        };\n        Dictionary.prototype.getKeys = function () {\n            return this.keys;\n        };\n        Dictionary.prototype.getValues = function () {\n            return this.values;\n        };\n        Dictionary.prototype.clear = function () {\n            this.keys = [];\n            this.values = [];\n        };\n        Dictionary.prototype.count = function () {\n            return this.keys.length;\n        };\n        return Dictionary;\n    }());\n    exports.Dictionary = Dictionary;\n});\n\n},{\"../utils/util\":21}],2:[function(require,module,exports){\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var RuntimeConfigImpl = (function () {\n        function RuntimeConfigImpl() {\n            this._headers = null;\n        }\n        RuntimeConfigImpl.prototype.set = function (config) {\n            if (config.hasOwnProperty(\"headers\")) {\n                this._headers = config.headers;\n            }\n        };\n        Object.defineProperty(RuntimeConfigImpl.prototype, \"headers\", {\n            get: function () {\n                return this._headers;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        return RuntimeConfigImpl;\n    }());\n    exports.RuntimeConfigImpl = RuntimeConfigImpl;\n    var _runtimeConfig = new RuntimeConfigImpl();\n    exports.RuntimeConfig = _runtimeConfig;\n    function setRuntimeConfig(config) {\n        _runtimeConfig.set(config);\n    }\n    exports.setRuntimeConfig = setRuntimeConfig;\n});\n\n},{}],3:[function(require,module,exports){\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", \"./fetchClient\", \"./digestCache\", \"../utils/util\", \"../configuration/pnplibconfig\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var fetchClient_1 = require(\"./fetchClient\");\n    var digestCache_1 = require(\"./digestCache\");\n    var util_1 = require(\"../utils/util\");\n    var pnplibconfig_1 = require(\"../configuration/pnplibconfig\");\n    var HttpClient = (function () {\n        function HttpClient(_impl) {\n            if (_impl === void 0) { _impl = new fetchClient_1.FetchClient(); }\n            this._impl = _impl;\n            this._digestCache = new digestCache_1.DigestCache(this);\n        }\n        HttpClient.prototype.fetch = function (url, options) {\n            if (options === void 0) { options = {}; }\n            var self = this;\n            var opts = util_1.Util.extend(options, { cache: \"no-cache\", credentials: \"same-origin\" }, true);\n            var headers = new Headers();\n            this.mergeHeaders(headers, pnplibconfig_1.RuntimeConfig.headers);\n            this.mergeHeaders(headers, options.headers);\n            if (!headers.has(\"Accept\")) {\n                headers.append(\"Accept\", \"application/json\");\n            }\n            if (!headers.has(\"Content-Type\")) {\n                headers.append(\"Content-Type\", \"application/json;odata=verbose;charset=utf-8\");\n            }\n            if (!headers.has(\"X-ClientService-ClientTag\")) {\n                headers.append(\"X-ClientService-ClientTag\", \"SharePoint.PnP.JavaScriptCore\");\n            }\n            opts = util_1.Util.extend(opts, { headers: headers });\n            if (opts.method && opts.method.toUpperCase() !== \"GET\") {\n                if (!headers.has(\"X-RequestDigest\")) {\n                    var index = url.indexOf(\"/_api/\");\n                    if (index < 0) {\n                        throw new Error(\"Unable to determine API url\");\n                    }\n                    var webUrl = url.substr(0, index);\n                    return this._digestCache.getDigest(webUrl)\n                        .then(function (digest) {\n                        headers.append(\"X-RequestDigest\", digest);\n                        return self.fetchRaw(url, opts);\n                    });\n                }\n            }\n            return self.fetchRaw(url, opts);\n        };\n        HttpClient.prototype.fetchRaw = function (url, options) {\n            var _this = this;\n            if (options === void 0) { options = {}; }\n            var retry = function (ctx) {\n                _this._impl.fetch(url, options).then(function (response) { return ctx.resolve(response); }).catch(function (response) {\n                    var delay = ctx.delay;\n                    if (response.status !== 429 && response.status !== 503) {\n                        ctx.reject(response);\n                    }\n                    ctx.delay *= 2;\n                    ctx.attempts++;\n                    if (ctx.retryCount <= ctx.attempts) {\n                        ctx.reject(response);\n                    }\n                    setTimeout(util_1.Util.getCtxCallback(_this, retry, ctx), delay);\n                });\n            };\n            return new Promise(function (resolve, reject) {\n                var retryContext = {\n                    attempts: 0,\n                    delay: 100,\n                    reject: reject,\n                    resolve: resolve,\n                    retryCount: 7,\n                };\n                retry.call(_this, retryContext);\n            });\n        };\n        HttpClient.prototype.get = function (url, options) {\n            if (options === void 0) { options = {}; }\n            var opts = util_1.Util.extend(options, { method: \"GET\" });\n            return this.fetch(url, opts);\n        };\n        HttpClient.prototype.post = function (url, options) {\n            if (options === void 0) { options = {}; }\n            var opts = util_1.Util.extend(options, { method: \"POST\" });\n            return this.fetch(url, opts);\n        };\n        HttpClient.prototype.mergeHeaders = function (target, source) {\n            if (typeof source !== \"undefined\") {\n                var temp = new Request(\"\", { headers: source });\n                temp.headers.forEach(function (value, name) {\n                    target.append(name, value);\n                });\n            }\n        };\n        return HttpClient;\n    }());\n    exports.HttpClient = HttpClient;\n});\n\n},{\"../configuration/pnplibconfig\":2,\"../utils/util\":21,\"./digestCache\":4,\"./fetchClient\":5}],4:[function(require,module,exports){\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", \"../collections/collections\", \"../utils/util\", \"../sharepoint/rest/odata\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var collections_1 = require(\"../collections/collections\");\n    var util_1 = require(\"../utils/util\");\n    var odata_1 = require(\"../sharepoint/rest/odata\");\n    var CachedDigest = (function () {\n        function CachedDigest() {\n        }\n        return CachedDigest;\n    }());\n    exports.CachedDigest = CachedDigest;\n    var DigestCache = (function () {\n        function DigestCache(_httpClient, _digests) {\n            if (_digests === void 0) { _digests = new collections_1.Dictionary(); }\n            this._httpClient = _httpClient;\n            this._digests = _digests;\n        }\n        DigestCache.prototype.getDigest = function (webUrl) {\n            var self = this;\n            var cachedDigest = this._digests.get(webUrl);\n            if (cachedDigest !== null) {\n                var now = new Date();\n                if (now < cachedDigest.expiration) {\n                    return Promise.resolve(cachedDigest.value);\n                }\n            }\n            var url = util_1.Util.combinePaths(webUrl, \"/_api/contextinfo\");\n            return self._httpClient.fetchRaw(url, {\n                cache: \"no-cache\",\n                credentials: \"same-origin\",\n                headers: {\n                    \"Accept\": \"application/json;odata=verbose\",\n                    \"Content-type\": \"application/json;odata=verbose;charset=utf-8\",\n                },\n                method: \"POST\",\n            }).then(function (response) {\n                var parser = new odata_1.ODataDefaultParser();\n                return parser.parse(response).then(function (d) { return d.GetContextWebInformation; });\n            }).then(function (data) {\n                var newCachedDigest = new CachedDigest();\n                newCachedDigest.value = data.FormDigestValue;\n                var seconds = data.FormDigestTimeoutSeconds;\n                var expiration = new Date();\n                expiration.setTime(expiration.getTime() + 1000 * seconds);\n                newCachedDigest.expiration = expiration;\n                self._digests.add(webUrl, newCachedDigest);\n                return newCachedDigest.value;\n            });\n        };\n        DigestCache.prototype.clear = function () {\n            this._digests.clear();\n        };\n        return DigestCache;\n    }());\n    exports.DigestCache = DigestCache;\n});\n\n},{\"../collections/collections\":1,\"../sharepoint/rest/odata\":19,\"../utils/util\":21}],5:[function(require,module,exports){\n(function (global){\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var FetchClient = (function () {\n        function FetchClient() {\n        }\n        FetchClient.prototype.fetch = function (url, options) {\n            return global.fetch(url, options);\n        };\n        return FetchClient;\n    }());\n    exports.FetchClient = FetchClient;\n});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],6:[function(require,module,exports){\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", \"../util\", \"./ObjectHandlerBase\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var util_1 = require(\"../util\");\n    var ObjectHandlerBase_1 = require(\"./ObjectHandlerBase\");\n    var ObjectComposedLook = (function (_super) {\n        __extends(ObjectComposedLook, _super);\n        function ObjectComposedLook() {\n            _super.call(this, \"ComposedLook\");\n        }\n        ObjectComposedLook.prototype.ProvisionObjects = function (object) {\n            var _this = this;\n            _super.prototype.scope_started.call(this);\n            return new Promise(function (resolve, reject) {\n                var clientContext = SP.ClientContext.get_current();\n                var web = clientContext.get_web();\n                var colorPaletteUrl = object.ColorPaletteUrl ? util_1.Util.replaceUrlTokens(object.ColorPaletteUrl) : \"\";\n                var fontSchemeUrl = object.FontSchemeUrl ? util_1.Util.replaceUrlTokens(object.FontSchemeUrl) : \"\";\n                var backgroundImageUrl = object.BackgroundImageUrl ? util_1.Util.replaceUrlTokens(object.BackgroundImageUrl) : null;\n                web.applyTheme(util_1.Util.getRelativeUrl(colorPaletteUrl), util_1.Util.getRelativeUrl(fontSchemeUrl), backgroundImageUrl, true);\n                web.update();\n                clientContext.executeQueryAsync(function () {\n                    _super.prototype.scope_ended.call(_this);\n                    resolve();\n                }, function () {\n                    _super.prototype.scope_ended.call(_this);\n                    resolve();\n                });\n            });\n        };\n        return ObjectComposedLook;\n    }(ObjectHandlerBase_1.ObjectHandlerBase));\n    exports.ObjectComposedLook = ObjectComposedLook;\n});\n\n},{\"../util\":18,\"./ObjectHandlerBase\":10}],7:[function(require,module,exports){\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", \"./ObjectHandlerBase\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var ObjectHandlerBase_1 = require(\"./ObjectHandlerBase\");\n    var ObjectCustomActions = (function (_super) {\n        __extends(ObjectCustomActions, _super);\n        function ObjectCustomActions() {\n            _super.call(this, \"CustomActions\");\n        }\n        ObjectCustomActions.prototype.ProvisionObjects = function (customactions) {\n            var _this = this;\n            _super.prototype.scope_started.call(this);\n            return new Promise(function (resolve, reject) {\n                var clientContext = SP.ClientContext.get_current();\n                var userCustomActions = clientContext.get_web().get_userCustomActions();\n                clientContext.load(userCustomActions);\n                clientContext.executeQueryAsync(function () {\n                    customactions.forEach(function (obj) {\n                        var objExists = userCustomActions.get_data().filter(function (userCustomAction) {\n                            return userCustomAction.get_title() === obj.Title;\n                        }).length > 0;\n                        if (!objExists) {\n                            var objCreationInformation = userCustomActions.add();\n                            if (obj.Description) {\n                                objCreationInformation.set_description(obj.Description);\n                            }\n                            if (obj.CommandUIExtension) {\n                                objCreationInformation.set_commandUIExtension(obj.CommandUIExtension);\n                            }\n                            if (obj.Group) {\n                                objCreationInformation.set_group(obj.Group);\n                            }\n                            if (obj.Title) {\n                                objCreationInformation.set_title(obj.Title);\n                            }\n                            if (obj.Url) {\n                                objCreationInformation.set_url(obj.Url);\n                            }\n                            if (obj.ScriptBlock) {\n                                objCreationInformation.set_scriptBlock(obj.ScriptBlock);\n                            }\n                            if (obj.ScriptSrc) {\n                                objCreationInformation.set_scriptSrc(obj.ScriptSrc);\n                            }\n                            if (obj.Location) {\n                                objCreationInformation.set_location(obj.Location);\n                            }\n                            if (obj.ImageUrl) {\n                                objCreationInformation.set_imageUrl(obj.ImageUrl);\n                            }\n                            if (obj.Name) {\n                                objCreationInformation.set_name(obj.Name);\n                            }\n                            if (obj.RegistrationId) {\n                                objCreationInformation.set_registrationId(obj.RegistrationId);\n                            }\n                            if (obj.RegistrationType) {\n                                objCreationInformation.set_registrationType(obj.RegistrationType);\n                            }\n                            if (obj.Rights) {\n                                objCreationInformation.set_rights(obj.Rights);\n                            }\n                            if (obj.Sequence) {\n                                objCreationInformation.set_sequence(obj.Sequence);\n                            }\n                            objCreationInformation.update();\n                        }\n                    });\n                    clientContext.executeQueryAsync(function () {\n                        _super.prototype.scope_ended.call(_this);\n                        resolve();\n                    }, function () {\n                        _super.prototype.scope_ended.call(_this);\n                        resolve();\n                    });\n                }, function () {\n                    _super.prototype.scope_ended.call(_this);\n                    resolve();\n                });\n            });\n        };\n        return ObjectCustomActions;\n    }(ObjectHandlerBase_1.ObjectHandlerBase));\n    exports.ObjectCustomActions = ObjectCustomActions;\n});\n\n},{\"./ObjectHandlerBase\":10}],8:[function(require,module,exports){\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", \"./ObjectHandlerBase\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var ObjectHandlerBase_1 = require(\"./ObjectHandlerBase\");\n    var ObjectFeatures = (function (_super) {\n        __extends(ObjectFeatures, _super);\n        function ObjectFeatures() {\n            _super.call(this, \"Features\");\n        }\n        ObjectFeatures.prototype.ProvisionObjects = function (features) {\n            var _this = this;\n            _super.prototype.scope_started.call(this);\n            return new Promise(function (resolve, reject) {\n                var clientContext = SP.ClientContext.get_current();\n                var web = clientContext.get_web();\n                var webFeatures = web.get_features();\n                features.forEach(function (f) {\n                    if (f.Deactivate === true) {\n                        webFeatures.remove(new SP.Guid(f.ID), true);\n                    }\n                    else {\n                        webFeatures.add(new SP.Guid(f.ID), true, SP.FeatureDefinitionScope.none);\n                    }\n                });\n                web.update();\n                clientContext.load(webFeatures);\n                clientContext.executeQueryAsync(function () {\n                    _super.prototype.scope_ended.call(_this);\n                    resolve();\n                }, function () {\n                    _super.prototype.scope_ended.call(_this);\n                    resolve();\n                });\n            });\n        };\n        return ObjectFeatures;\n    }(ObjectHandlerBase_1.ObjectHandlerBase));\n    exports.ObjectFeatures = ObjectFeatures;\n});\n\n},{\"./ObjectHandlerBase\":10}],9:[function(require,module,exports){\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", \"../../../utils/util\", \"../util\", \"./ObjectHandlerBase\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var CoreUtil = require(\"../../../utils/util\");\n    var util_1 = require(\"../util\");\n    var ObjectHandlerBase_1 = require(\"./ObjectHandlerBase\");\n    var ObjectFiles = (function (_super) {\n        __extends(ObjectFiles, _super);\n        function ObjectFiles() {\n            _super.call(this, \"Files\");\n        }\n        ObjectFiles.prototype.ProvisionObjects = function (objects) {\n            var _this = this;\n            _super.prototype.scope_started.call(this);\n            return new Promise(function (resolve, reject) {\n                var clientContext = SP.ClientContext.get_current();\n                var web = clientContext.get_web();\n                var fileInfos = [];\n                var promises = [];\n                objects.forEach(function (obj, index) {\n                    promises.push(_this.httpClient.fetchRaw(util_1.Util.replaceUrlTokens(obj.Src)).then(function (response) {\n                        return response.text();\n                    }));\n                });\n                Promise.all(promises).then(function (responses) {\n                    responses.forEach(function (response, index) {\n                        var obj = objects[index];\n                        var filename = _this.GetFilenameFromFilePath(obj.Dest);\n                        var webServerRelativeUrl = _spPageContextInfo.webServerRelativeUrl;\n                        var folder = web.getFolderByServerRelativeUrl(webServerRelativeUrl + \"/\" + _this.GetFolderFromFilePath(obj.Dest));\n                        var fi = {\n                            Contents: response,\n                            Dest: obj.Dest,\n                            Filename: filename,\n                            Folder: folder,\n                            Instance: null,\n                            Overwrite: false,\n                            Properties: [],\n                            RemoveExistingWebParts: true,\n                            ServerRelativeUrl: obj.Dest,\n                            Src: obj.Src,\n                            Views: [],\n                            WebParts: [],\n                        };\n                        CoreUtil.Util.extend(fi, obj);\n                        if (fi.Filename.indexOf(\"Form.aspx\") !== -1) {\n                            return;\n                        }\n                        var objCreationInformation = new SP.FileCreationInformation();\n                        objCreationInformation.set_overwrite(fi.Overwrite);\n                        objCreationInformation.set_url(fi.Filename);\n                        objCreationInformation.set_content(new SP.Base64EncodedByteArray());\n                        for (var i = 0; i < fi.Contents.length; i++) {\n                            objCreationInformation.get_content().append(fi.Contents.charCodeAt(i));\n                        }\n                        clientContext.load(fi.Folder.get_files().add(objCreationInformation));\n                        fileInfos.push(fi);\n                    });\n                });\n                clientContext.executeQueryAsync(function () {\n                    promises = [];\n                    fileInfos.forEach(function (fi) {\n                        if (fi.Properties && Object.keys(fi.Properties).length > 0) {\n                            promises.push(_this.ApplyFileProperties(fi.Dest, fi.Properties));\n                        }\n                        if (fi.WebParts && fi.WebParts.length > 0) {\n                            promises.push(_this.AddWebPartsToWebPartPage(fi.Dest, fi.Src, fi.WebParts, fi.RemoveExistingWebParts));\n                        }\n                    });\n                    Promise.all(promises).then(function () {\n                        _this.ModifyHiddenViews(objects).then(function (value) {\n                            _super.prototype.scope_ended.call(_this);\n                            resolve(value);\n                        }, function (error) {\n                            _super.prototype.scope_ended.call(_this);\n                            reject(error);\n                        });\n                    });\n                }, function (error) {\n                    _super.prototype.scope_ended.call(_this);\n                    reject(error);\n                });\n            });\n        };\n        ObjectFiles.prototype.RemoveWebPartsFromFileIfSpecified = function (clientContext, limitedWebPartManager, shouldRemoveExisting) {\n            return new Promise(function (resolve, reject) {\n                if (!shouldRemoveExisting) {\n                    resolve();\n                }\n                var existingWebParts = limitedWebPartManager.get_webParts();\n                clientContext.load(existingWebParts);\n                clientContext.executeQueryAsync(function () {\n                    existingWebParts.get_data().forEach(function (wp) {\n                        wp.deleteWebPart();\n                    });\n                    clientContext.load(existingWebParts);\n                    clientContext.executeQueryAsync(resolve, reject);\n                }, reject);\n            });\n        };\n        ObjectFiles.prototype.GetWebPartXml = function (webParts) {\n            var _this = this;\n            return new Promise(function (resolve, reject) {\n                var promises = [];\n                webParts.forEach(function (wp, index) {\n                    if (wp.Contents.FileUrl) {\n                        var fileUrl = util_1.Util.replaceUrlTokens(wp.Contents.FileUrl);\n                        promises.push(_this.httpClient.fetchRaw(fileUrl).then(function (response) {\n                            return response.text();\n                        }));\n                    }\n                    else {\n                        promises.push((function () {\n                            return new Promise(function (res, rej) {\n                                res();\n                            });\n                        })());\n                    }\n                });\n                Promise.all(promises).then(function (responses) {\n                    responses.forEach(function (response, index) {\n                        var wp = webParts[index];\n                        if (wp !== null && response && response.length > 0) {\n                            wp.Contents.Xml = response;\n                        }\n                    });\n                    resolve(webParts);\n                });\n            });\n        };\n        ObjectFiles.prototype.AddWebPartsToWebPartPage = function (dest, src, webParts, shouldRemoveExisting) {\n            var _this = this;\n            return new Promise(function (resolve, reject) {\n                var clientContext = SP.ClientContext.get_current();\n                var web = clientContext.get_web();\n                var fileServerRelativeUrl = _spPageContextInfo.webServerRelativeUrl + \"/\" + dest;\n                var file = web.getFileByServerRelativeUrl(fileServerRelativeUrl);\n                clientContext.load(file);\n                clientContext.executeQueryAsync(function () {\n                    var limitedWebPartManager = file.getLimitedWebPartManager(SP.WebParts.PersonalizationScope.shared);\n                    _this.RemoveWebPartsFromFileIfSpecified(clientContext, limitedWebPartManager, shouldRemoveExisting).then(function () {\n                        _this.GetWebPartXml(webParts).then(function (webPartsWithXml) {\n                            webPartsWithXml.forEach(function (wp) {\n                                if (!wp.Contents.Xml) {\n                                    return;\n                                }\n                                var oWebPartDefinition = limitedWebPartManager.importWebPart(util_1.Util.replaceUrlTokens(wp.Contents.Xml));\n                                var oWebPart = oWebPartDefinition.get_webPart();\n                                limitedWebPartManager.addWebPart(oWebPart, wp.Zone, wp.Order);\n                            });\n                            clientContext.executeQueryAsync(resolve, resolve);\n                        });\n                    });\n                }, resolve);\n            });\n        };\n        ObjectFiles.prototype.ApplyFileProperties = function (dest, fileProperties) {\n            return new Promise(function (resolve, reject) {\n                var clientContext = SP.ClientContext.get_current();\n                var web = clientContext.get_web();\n                var fileServerRelativeUrl = _spPageContextInfo.webServerRelativeUrl + \"/\" + dest;\n                var file = web.getFileByServerRelativeUrl(fileServerRelativeUrl);\n                var listItemAllFields = file.get_listItemAllFields();\n                Object.keys(fileProperties).forEach(function (key) {\n                    listItemAllFields.set_item(key, fileProperties[key]);\n                });\n                listItemAllFields.update();\n                clientContext.executeQueryAsync(resolve, resolve);\n            });\n        };\n        ObjectFiles.prototype.GetViewFromCollectionByUrl = function (viewCollection, url) {\n            var serverRelativeUrl = _spPageContextInfo.webServerRelativeUrl + \"/\" + url;\n            var viewCollectionEnumerator = viewCollection.getEnumerator();\n            while (viewCollectionEnumerator.moveNext()) {\n                var view = viewCollectionEnumerator.get_current();\n                if (view.get_serverRelativeUrl().toString().toLowerCase() === serverRelativeUrl.toLowerCase()) {\n                    return view;\n                }\n            }\n            return null;\n        };\n        ObjectFiles.prototype.ModifyHiddenViews = function (objects) {\n            var _this = this;\n            return new Promise(function (resolve, reject) {\n                var clientContext = SP.ClientContext.get_current();\n                var web = clientContext.get_web();\n                var mapping = {};\n                var lists = [];\n                var listViewCollections = [];\n                objects.forEach(function (obj) {\n                    if (!obj.Views) {\n                        return;\n                    }\n                    obj.Views.forEach(function (v) {\n                        mapping[v.List] = mapping[v.List] || [];\n                        mapping[v.List].push(CoreUtil.Util.extend(v, { \"Url\": obj.Dest }));\n                    });\n                });\n                Object.keys(mapping).forEach(function (l, index) {\n                    lists.push(web.get_lists().getByTitle(l));\n                    listViewCollections.push(web.get_lists().getByTitle(l).get_views());\n                    clientContext.load(lists[index]);\n                    clientContext.load(listViewCollections[index]);\n                });\n                clientContext.executeQueryAsync(function () {\n                    Object.keys(mapping).forEach(function (l, index) {\n                        var views = mapping[l];\n                        var list = lists[index];\n                        var viewCollection = listViewCollections[index];\n                        views.forEach(function (v) {\n                            var view = _this.GetViewFromCollectionByUrl(viewCollection, v.Url);\n                            if (view == null) {\n                                return;\n                            }\n                            if (v.Paged) {\n                                view.set_paged(v.Paged);\n                            }\n                            if (v.Query) {\n                                view.set_viewQuery(v.Query);\n                            }\n                            if (v.RowLimit) {\n                                view.set_rowLimit(v.RowLimit);\n                            }\n                            if (v.ViewFields && v.ViewFields.length > 0) {\n                                var columns_1 = view.get_viewFields();\n                                columns_1.removeAll();\n                                v.ViewFields.forEach(function (vf) {\n                                    columns_1.add(vf);\n                                });\n                            }\n                            view.update();\n                        });\n                        clientContext.load(viewCollection);\n                        list.update();\n                    });\n                    clientContext.executeQueryAsync(resolve, resolve);\n                }, resolve);\n            });\n        };\n        ObjectFiles.prototype.GetFolderFromFilePath = function (filePath) {\n            var split = filePath.split(\"/\");\n            return split.splice(0, split.length - 1).join(\"/\");\n        };\n        ObjectFiles.prototype.GetFilenameFromFilePath = function (filePath) {\n            var split = filePath.split(\"/\");\n            return split[split.length - 1];\n        };\n        return ObjectFiles;\n    }(ObjectHandlerBase_1.ObjectHandlerBase));\n    exports.ObjectFiles = ObjectFiles;\n    ;\n});\n\n},{\"../../../utils/util\":21,\"../util\":18,\"./ObjectHandlerBase\":10}],10:[function(require,module,exports){\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", \"../../../net/HttpClient\", \"../../../utils/logging\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var HttpClient_1 = require(\"../../../net/HttpClient\");\n    var logging_1 = require(\"../../../utils/logging\");\n    var ObjectHandlerBase = (function () {\n        function ObjectHandlerBase(name) {\n            this.name = name;\n            this.httpClient = new HttpClient_1.HttpClient();\n        }\n        ObjectHandlerBase.prototype.ProvisionObjects = function (objects, parameters) {\n            return new Promise(function (resolve, reject) { resolve(\"Not implemented.\"); });\n        };\n        ObjectHandlerBase.prototype.scope_started = function () {\n            logging_1.Logger.write(this.name + \": Code execution scope started\");\n        };\n        ObjectHandlerBase.prototype.scope_ended = function () {\n            logging_1.Logger.write(this.name + \": Code execution scope stopped\");\n        };\n        return ObjectHandlerBase;\n    }());\n    exports.ObjectHandlerBase = ObjectHandlerBase;\n});\n\n},{\"../../../net/HttpClient\":3,\"../../../utils/logging\":20}],11:[function(require,module,exports){\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", \"../Sequencer/Sequencer\", \"./ObjectHandlerBase\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var Sequencer_1 = require(\"../Sequencer/Sequencer\");\n    var ObjectHandlerBase_1 = require(\"./ObjectHandlerBase\");\n    var ObjectLists = (function (_super) {\n        __extends(ObjectLists, _super);\n        function ObjectLists() {\n            _super.call(this, \"Lists\");\n        }\n        ObjectLists.prototype.ProvisionObjects = function (objects) {\n            var _this = this;\n            _super.prototype.scope_started.call(this);\n            return new Promise(function (resolve, reject) {\n                var clientContext = SP.ClientContext.get_current();\n                var lists = clientContext.get_web().get_lists();\n                var listInstances = [];\n                clientContext.load(lists);\n                clientContext.executeQueryAsync(function () {\n                    objects.forEach(function (obj, index) {\n                        var existingObj = lists.get_data().filter(function (list) {\n                            return list.get_title() === obj.Title;\n                        })[0];\n                        if (existingObj) {\n                            if (obj.Description) {\n                                existingObj.set_description(obj.Description);\n                            }\n                            if (obj.EnableVersioning !== undefined) {\n                                existingObj.set_enableVersioning(obj.EnableVersioning);\n                            }\n                            if (obj.EnableMinorVersions !== undefined) {\n                                existingObj.set_enableMinorVersions(obj.EnableMinorVersions);\n                            }\n                            if (obj.EnableModeration !== undefined) {\n                                existingObj.set_enableModeration(obj.EnableModeration);\n                            }\n                            if (obj.EnableFolderCreation !== undefined) {\n                                existingObj.set_enableFolderCreation(obj.EnableFolderCreation);\n                            }\n                            if (obj.EnableAttachments !== undefined) {\n                                existingObj.set_enableAttachments(obj.EnableAttachments);\n                            }\n                            if (obj.NoCrawl !== undefined) {\n                                existingObj.set_noCrawl(obj.NoCrawl);\n                            }\n                            if (obj.DefaultDisplayFormUrl) {\n                                existingObj.set_defaultDisplayFormUrl(obj.DefaultDisplayFormUrl);\n                            }\n                            if (obj.DefaultEditFormUrl) {\n                                existingObj.set_defaultEditFormUrl(obj.DefaultEditFormUrl);\n                            }\n                            if (obj.DefaultNewFormUrl) {\n                                existingObj.set_defaultNewFormUrl(obj.DefaultNewFormUrl);\n                            }\n                            if (obj.DraftVersionVisibility) {\n                                existingObj.set_draftVersionVisibility(SP.DraftVisibilityType[obj.DraftVersionVisibility]);\n                            }\n                            if (obj.ImageUrl) {\n                                existingObj.set_imageUrl(obj.ImageUrl);\n                            }\n                            if (obj.Hidden !== undefined) {\n                                existingObj.set_hidden(obj.Hidden);\n                            }\n                            if (obj.ForceCheckout !== undefined) {\n                                existingObj.set_forceCheckout(obj.ForceCheckout);\n                            }\n                            existingObj.update();\n                            listInstances.push(existingObj);\n                            clientContext.load(listInstances[index]);\n                        }\n                        else {\n                            var objCreationInformation = new SP.ListCreationInformation();\n                            if (obj.Description) {\n                                objCreationInformation.set_description(obj.Description);\n                            }\n                            if (obj.OnQuickLaunch !== undefined) {\n                                var value = obj.OnQuickLaunch ? SP.QuickLaunchOptions.on : SP.QuickLaunchOptions.off;\n                                objCreationInformation.set_quickLaunchOption(value);\n                            }\n                            if (obj.TemplateType) {\n                                objCreationInformation.set_templateType(obj.TemplateType);\n                            }\n                            if (obj.Title) {\n                                objCreationInformation.set_title(obj.Title);\n                            }\n                            if (obj.Url) {\n                                objCreationInformation.set_url(obj.Url);\n                            }\n                            var createdList = lists.add(objCreationInformation);\n                            if (obj.EnableVersioning !== undefined) {\n                                createdList.set_enableVersioning(obj.EnableVersioning);\n                            }\n                            if (obj.EnableMinorVersions !== undefined) {\n                                createdList.set_enableMinorVersions(obj.EnableMinorVersions);\n                            }\n                            if (obj.EnableModeration !== undefined) {\n                                createdList.set_enableModeration(obj.EnableModeration);\n                            }\n                            if (obj.EnableFolderCreation !== undefined) {\n                                createdList.set_enableFolderCreation(obj.EnableFolderCreation);\n                            }\n                            if (obj.EnableAttachments !== undefined) {\n                                createdList.set_enableAttachments(obj.EnableAttachments);\n                            }\n                            if (obj.NoCrawl !== undefined) {\n                                createdList.set_noCrawl(obj.NoCrawl);\n                            }\n                            if (obj.DefaultDisplayFormUrl) {\n                                createdList.set_defaultDisplayFormUrl(obj.DefaultDisplayFormUrl);\n                            }\n                            if (obj.DefaultEditFormUrl) {\n                                createdList.set_defaultEditFormUrl(obj.DefaultEditFormUrl);\n                            }\n                            if (obj.DefaultNewFormUrl) {\n                                createdList.set_defaultNewFormUrl(obj.DefaultNewFormUrl);\n                            }\n                            if (obj.DraftVersionVisibility) {\n                                var value = SP.DraftVisibilityType[obj.DraftVersionVisibility.toLocaleLowerCase()];\n                                createdList.set_draftVersionVisibility(value);\n                            }\n                            if (obj.ImageUrl) {\n                                createdList.set_imageUrl(obj.ImageUrl);\n                            }\n                            if (obj.Hidden !== undefined) {\n                                createdList.set_hidden(obj.Hidden);\n                            }\n                            if (obj.ForceCheckout !== undefined) {\n                                createdList.set_forceCheckout(obj.ForceCheckout);\n                            }\n                            listInstances.push(createdList);\n                            clientContext.load(listInstances[index]);\n                        }\n                    });\n                    clientContext.executeQueryAsync(function () {\n                        var sequencer = new Sequencer_1.Sequencer([\n                            _this.ApplyContentTypeBindings,\n                            _this.ApplyListInstanceFieldRefs,\n                            _this.ApplyFields,\n                            _this.ApplyLookupFields,\n                            _this.ApplyListSecurity,\n                            _this.CreateViews,\n                            _this.InsertDataRows,\n                            _this.CreateFolders,\n                        ], { ClientContext: clientContext, ListInstances: listInstances, Objects: objects }, _this);\n                        sequencer.execute().then(function () {\n                            _super.prototype.scope_ended.call(_this);\n                            resolve();\n                        });\n                    }, function () {\n                        _super.prototype.scope_ended.call(_this);\n                        resolve();\n                    });\n                }, function () {\n                    _super.prototype.scope_ended.call(_this);\n                    resolve();\n                });\n            });\n        };\n        ObjectLists.prototype.EnsureLocationBasedMetadataDefaultsReceiver = function (clientContext, list) {\n            var eventReceivers = list.get_eventReceivers();\n            var eventRecCreationInfo = new SP.EventReceiverDefinitionCreationInformation();\n            eventRecCreationInfo.set_receiverName(\"LocationBasedMetadataDefaultsReceiver ItemAdded\");\n            eventRecCreationInfo.set_synchronization(1);\n            eventRecCreationInfo.set_sequenceNumber(1000);\n            eventRecCreationInfo.set_receiverAssembly(\"Microsoft.Office.DocumentManagement, Version=15.0.0.0, Culture=neutral, \" +\n                \"PublicKeyToken=71e9bce111e9429c\");\n            eventRecCreationInfo.set_receiverClass(\"Microsoft.Office.DocumentManagement.LocationBasedMetadataDefaultsReceiver\");\n            eventRecCreationInfo.set_eventType(SP.EventReceiverType.itemAdded);\n            eventReceivers.add(eventRecCreationInfo);\n            list.update();\n        };\n        ObjectLists.prototype.CreateFolders = function (params) {\n            var _this = this;\n            return new Promise(function (resolve, reject) {\n                params.ListInstances.forEach(function (l, index) {\n                    var obj = params.Objects[index];\n                    if (!obj.Folders) {\n                        return;\n                    }\n                    var folderServerRelativeUrl = _spPageContextInfo.webServerRelativeUrl + \"/\" + obj.Url;\n                    var rootFolder = l.get_rootFolder();\n                    var metadataDefaults = \"<MetadataDefaults>\";\n                    var setMetadataDefaults = false;\n                    obj.Folders.forEach(function (f) {\n                        var folderUrl = folderServerRelativeUrl + \"/\" + f.Name;\n                        rootFolder.get_folders().add(folderUrl);\n                        if (f.DefaultValues) {\n                            var keys = Object.keys(f.DefaultValues).length;\n                            if (keys > 0) {\n                                metadataDefaults += \"<a href='\" + folderUrl + \"'>\";\n                                Object.keys(f.DefaultValues).forEach(function (key) {\n                                    metadataDefaults += \"<DefaultValue FieldName=\\\"\" + key + \"\\\">\" + f.DefaultValues[key] + \"</DefaultValue>\";\n                                });\n                                metadataDefaults += \"</a>\";\n                            }\n                            setMetadataDefaults = true;\n                        }\n                    });\n                    metadataDefaults += \"</MetadataDefaults>\";\n                    if (setMetadataDefaults) {\n                        var metadataDefaultsFileCreateInfo = new SP.FileCreationInformation();\n                        metadataDefaultsFileCreateInfo.set_url(folderServerRelativeUrl + \"/Forms/client_LocationBasedDefaults.html\");\n                        metadataDefaultsFileCreateInfo.set_content(new SP.Base64EncodedByteArray());\n                        metadataDefaultsFileCreateInfo.set_overwrite(true);\n                        for (var i = 0; i < metadataDefaults.length; i++) {\n                            metadataDefaultsFileCreateInfo.get_content().append(metadataDefaults.charCodeAt(i));\n                        }\n                        rootFolder.get_files().add(metadataDefaultsFileCreateInfo);\n                        _this.EnsureLocationBasedMetadataDefaultsReceiver(params.ClientContext, l);\n                    }\n                });\n                params.ClientContext.executeQueryAsync(resolve, resolve);\n            });\n        };\n        ObjectLists.prototype.ApplyContentTypeBindings = function (params) {\n            return new Promise(function (resolve, reject) {\n                var webCts = params.ClientContext.get_site().get_rootWeb().get_contentTypes();\n                var listCts = [];\n                params.ListInstances.forEach(function (l, index) {\n                    listCts.push(l.get_contentTypes());\n                    params.ClientContext.load(listCts[index], \"Include(Name,Id)\");\n                    if (params.Objects[index].ContentTypeBindings) {\n                        l.set_contentTypesEnabled(true);\n                        l.update();\n                    }\n                });\n                params.ClientContext.load(webCts);\n                params.ClientContext.executeQueryAsync(function () {\n                    params.ListInstances.forEach(function (list, index) {\n                        var obj = params.Objects[index];\n                        if (!obj.ContentTypeBindings) {\n                            return;\n                        }\n                        var listContentTypes = listCts[index];\n                        var existingContentTypes = new Array();\n                        if (obj.RemoveExistingContentTypes && obj.ContentTypeBindings.length > 0) {\n                            listContentTypes.get_data().forEach(function (ct) {\n                                existingContentTypes.push(ct);\n                            });\n                        }\n                        obj.ContentTypeBindings.forEach(function (ctb) {\n                            listContentTypes.addExistingContentType(webCts.getById(ctb.ContentTypeId));\n                        });\n                        if (obj.RemoveExistingContentTypes && obj.ContentTypeBindings.length > 0) {\n                            for (var j = 0; j < existingContentTypes.length; j++) {\n                                var ect = existingContentTypes[j];\n                                ect.deleteObject();\n                            }\n                        }\n                        list.update();\n                    });\n                    params.ClientContext.executeQueryAsync(resolve, resolve);\n                }, resolve);\n            });\n        };\n        ObjectLists.prototype.ApplyListInstanceFieldRefs = function (params) {\n            return new Promise(function (resolve, reject) {\n                var siteFields = params.ClientContext.get_site().get_rootWeb().get_fields();\n                params.ListInstances.forEach(function (l, index) {\n                    var obj = params.Objects[index];\n                    if (obj.FieldRefs) {\n                        obj.FieldRefs.forEach(function (fr) {\n                            var field = siteFields.getByInternalNameOrTitle(fr.Name);\n                            l.get_fields().add(field);\n                        });\n                        l.update();\n                    }\n                });\n                params.ClientContext.executeQueryAsync(resolve, resolve);\n            });\n        };\n        ObjectLists.prototype.ApplyFields = function (params) {\n            var _this = this;\n            return new Promise(function (resolve, reject) {\n                params.ListInstances.forEach(function (l, index) {\n                    var obj = params.Objects[index];\n                    if (obj.Fields) {\n                        obj.Fields.forEach(function (f) {\n                            var fieldXml = _this.GetFieldXml(f, params.ListInstances, l);\n                            var fieldType = _this.GetFieldXmlAttr(fieldXml, \"Type\");\n                            if (fieldType !== \"Lookup\" && fieldType !== \"LookupMulti\") {\n                                l.get_fields().addFieldAsXml(fieldXml, true, SP.AddFieldOptions.addToAllContentTypes);\n                            }\n                        });\n                        l.update();\n                    }\n                });\n                params.ClientContext.executeQueryAsync(resolve, resolve);\n            });\n        };\n        ObjectLists.prototype.ApplyLookupFields = function (params) {\n            var _this = this;\n            return new Promise(function (resolve, reject) {\n                params.ListInstances.forEach(function (l, index) {\n                    var obj = params.Objects[index];\n                    if (obj.Fields) {\n                        obj.Fields.forEach(function (f) {\n                            var fieldXml = _this.GetFieldXml(f, params.ListInstances, l);\n                            if (!fieldXml) {\n                                return;\n                            }\n                            var fieldType = _this.GetFieldXmlAttr(fieldXml, \"Type\");\n                            if (fieldType === \"Lookup\" || fieldType === \"LookupMulti\") {\n                                l.get_fields().addFieldAsXml(fieldXml, true, SP.AddFieldOptions.addToAllContentTypes);\n                            }\n                        });\n                        l.update();\n                    }\n                });\n                params.ClientContext.executeQueryAsync(resolve, resolve);\n            });\n        };\n        ObjectLists.prototype.GetFieldXmlAttr = function (fieldXml, attr) {\n            var regex = new RegExp(attr + '=[\\'|\\\"](?:(.+?))[\\'|\\\"]');\n            var match = regex.exec(fieldXml);\n            return match[1];\n        };\n        ObjectLists.prototype.GetFieldXml = function (field, lists, list) {\n            var fieldXml = \"\";\n            if (!field.SchemaXml) {\n                var properties_1 = [];\n                Object.keys(field).forEach(function (prop) {\n                    var value = field[prop];\n                    if (prop === \"List\") {\n                        var targetList = lists.filter(function (v) {\n                            return v.get_title() === value;\n                        });\n                        if (targetList.length > 0) {\n                            value = \"{\" + targetList[0].get_id().toString() + \"}\";\n                        }\n                        else {\n                            return null;\n                        }\n                        properties_1.push(prop + \"=\\\"\" + value + \"\\\"\");\n                    }\n                });\n                fieldXml = \"<Field \" + properties_1.join(\" \") + \">\";\n                if (field.Type === \"Calculated\") {\n                    fieldXml += \"<Formula>\" + field.Formula + \"</Formula>\";\n                }\n                fieldXml += \"</Field>\";\n            }\n            return fieldXml;\n        };\n        ObjectLists.prototype.ApplyListSecurity = function (params) {\n            return new Promise(function (resolve, reject) {\n                params.ListInstances.forEach(function (l, index) {\n                    var obj = params.Objects[index];\n                    if (!obj.Security) {\n                        return;\n                    }\n                    if (obj.Security.BreakRoleInheritance) {\n                        l.breakRoleInheritance(obj.Security.CopyRoleAssignments, obj.Security.ClearSubscopes);\n                        l.update();\n                        params.ClientContext.load(l.get_roleAssignments());\n                    }\n                });\n                var web = params.ClientContext.get_web();\n                var allProperties = web.get_allProperties();\n                var siteGroups = web.get_siteGroups();\n                var roleDefinitions = web.get_roleDefinitions();\n                params.ClientContext.load(allProperties);\n                params.ClientContext.load(roleDefinitions);\n                params.ClientContext.executeQueryAsync(function () {\n                    params.ListInstances.forEach(function (l, index) {\n                        var obj = params.Objects[index];\n                        if (!obj.Security) {\n                            return;\n                        }\n                        obj.Security.RoleAssignments.forEach(function (ra) {\n                            var roleDef = null;\n                            if (typeof ra.RoleDefinition === \"number\") {\n                                roleDef = roleDefinitions.getById(ra.RoleDefinition);\n                            }\n                            else {\n                                roleDef = roleDefinitions.getByName(ra.RoleDefinition);\n                            }\n                            var roleBindings = SP.RoleDefinitionBindingCollection.newObject(params.ClientContext);\n                            roleBindings.add(roleDef);\n                            var principal = null;\n                            if (ra.Principal.match(/\\{[A-Za-z]*\\}+/g)) {\n                                var token = ra.Principal.substring(1, ra.Principal.length - 1);\n                                var groupId = allProperties.get_fieldValues()[(\"vti_\" + token)];\n                                principal = siteGroups.getById(groupId);\n                            }\n                            else {\n                                principal = siteGroups.getByName(principal);\n                            }\n                            l.get_roleAssignments().add(principal, roleBindings);\n                        });\n                        l.update();\n                    });\n                    params.ClientContext.executeQueryAsync(resolve, resolve);\n                }, resolve);\n            });\n        };\n        ObjectLists.prototype.CreateViews = function (params) {\n            return new Promise(function (resolve, reject) {\n                var listViewCollections = [];\n                params.ListInstances.forEach(function (l, index) {\n                    listViewCollections.push(l.get_views());\n                    params.ClientContext.load(listViewCollections[index]);\n                });\n                params.ClientContext.executeQueryAsync(function () {\n                    params.ListInstances.forEach(function (l, index) {\n                        var obj = params.Objects[index];\n                        if (!obj.Views) {\n                            return;\n                        }\n                        listViewCollections.push(l.get_views());\n                        params.ClientContext.load(listViewCollections[index]);\n                        obj.Views.forEach(function (v) {\n                            var viewExists = listViewCollections[index].get_data().filter(function (ev) {\n                                if (obj.RemoveExistingViews && obj.Views.length > 0) {\n                                    ev.deleteObject();\n                                    return false;\n                                }\n                                return ev.get_title() === v.Title;\n                            }).length > 0;\n                            if (viewExists) {\n                                var view = listViewCollections[index].getByTitle(v.Title);\n                                if (v.Paged) {\n                                    view.set_paged(v.Paged);\n                                }\n                                if (v.Query) {\n                                    view.set_viewQuery(v.Query);\n                                }\n                                if (v.RowLimit) {\n                                    view.set_rowLimit(v.RowLimit);\n                                }\n                                if (v.ViewFields && v.ViewFields.length > 0) {\n                                    var columns_1 = view.get_viewFields();\n                                    columns_1.removeAll();\n                                    v.ViewFields.forEach(function (vf) {\n                                        columns_1.add(vf);\n                                    });\n                                }\n                                if (v.Scope) {\n                                    view.set_scope(v.Scope);\n                                }\n                                view.update();\n                            }\n                            else {\n                                var viewCreationInformation = new SP.ViewCreationInformation();\n                                if (v.Title) {\n                                    viewCreationInformation.set_title(v.Title);\n                                }\n                                if (v.PersonalView) {\n                                    viewCreationInformation.set_personalView(v.PersonalView);\n                                }\n                                if (v.Paged) {\n                                    viewCreationInformation.set_paged(v.Paged);\n                                }\n                                if (v.Query) {\n                                    viewCreationInformation.set_query(v.Query);\n                                }\n                                if (v.RowLimit) {\n                                    viewCreationInformation.set_rowLimit(v.RowLimit);\n                                }\n                                if (v.SetAsDefaultView) {\n                                    viewCreationInformation.set_setAsDefaultView(v.SetAsDefaultView);\n                                }\n                                if (v.ViewFields) {\n                                    viewCreationInformation.set_viewFields(v.ViewFields);\n                                }\n                                if (v.ViewTypeKind) {\n                                    viewCreationInformation.set_viewTypeKind(SP.ViewType.html);\n                                }\n                                var view = l.get_views().add(viewCreationInformation);\n                                if (v.Scope) {\n                                    view.set_scope(v.Scope);\n                                    view.update();\n                                }\n                                l.update();\n                            }\n                            params.ClientContext.load(l.get_views());\n                        });\n                    });\n                    params.ClientContext.executeQueryAsync(resolve, resolve);\n                }, resolve);\n            });\n        };\n        ObjectLists.prototype.InsertDataRows = function (params) {\n            return new Promise(function (resolve, reject) {\n                params.ListInstances.forEach(function (l, index) {\n                    var obj = params.Objects[index];\n                    if (obj.DataRows) {\n                        obj.DataRows.forEach(function (r) {\n                            var item = l.addItem(new SP.ListItemCreationInformation());\n                            Object.keys(r).forEach(function (key) {\n                                item.set_item(key, r[key]);\n                            });\n                            item.update();\n                            params.ClientContext.load(item);\n                        });\n                    }\n                });\n                params.ClientContext.executeQueryAsync(resolve, resolve);\n            });\n        };\n        return ObjectLists;\n    }(ObjectHandlerBase_1.ObjectHandlerBase));\n    exports.ObjectLists = ObjectLists;\n});\n\n},{\"../Sequencer/Sequencer\":16,\"./ObjectHandlerBase\":10}],12:[function(require,module,exports){\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", \"../util\", \"./ObjectHandlerBase\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var util_1 = require(\"../util\");\n    var ObjectHandlerBase_1 = require(\"./ObjectHandlerBase\");\n    var ObjectNavigation = (function (_super) {\n        __extends(ObjectNavigation, _super);\n        function ObjectNavigation() {\n            _super.call(this, \"Navigation\");\n        }\n        ObjectNavigation.prototype.ProvisionObjects = function (object) {\n            var _this = this;\n            _super.prototype.scope_started.call(this);\n            var clientContext = SP.ClientContext.get_current();\n            var navigation = clientContext.get_web().get_navigation();\n            return new Promise(function (resolve, reject) {\n                _this.ConfigureQuickLaunch(object.QuickLaunch, clientContext, _this.httpClient, navigation).then(function () {\n                    _super.prototype.scope_ended.call(_this);\n                    resolve();\n                }, function () {\n                    _super.prototype.scope_ended.call(_this);\n                    reject();\n                });\n            });\n        };\n        ObjectNavigation.prototype.getNodeFromCollectionByTitle = function (nodeCollection, title) {\n            var f = nodeCollection.filter(function (val) {\n                return val.get_title() === title;\n            });\n            return f[0] || null;\n        };\n        ;\n        ObjectNavigation.prototype.ConfigureQuickLaunch = function (nodes, clientContext, httpClient, navigation) {\n            var _this = this;\n            return new Promise(function (resolve, reject) {\n                if (nodes.length === 0) {\n                    resolve();\n                }\n                else {\n                    var quickLaunchNodeCollection_1 = navigation.get_quickLaunch();\n                    clientContext.load(quickLaunchNodeCollection_1);\n                    clientContext.executeQueryAsync(function () {\n                        var temporaryQuickLaunch = [];\n                        var index = quickLaunchNodeCollection_1.get_count() - 1;\n                        while (index >= 0) {\n                            var oldNode = quickLaunchNodeCollection_1.itemAt(index);\n                            temporaryQuickLaunch.push(oldNode);\n                            oldNode.deleteObject();\n                            index--;\n                        }\n                        clientContext.executeQueryAsync(function () {\n                            nodes.forEach(function (n) {\n                                var existingNode = _this.getNodeFromCollectionByTitle(temporaryQuickLaunch, n.Title);\n                                var newNode = new SP.NavigationNodeCreationInformation();\n                                newNode.set_title(n.Title);\n                                newNode.set_url(existingNode ? existingNode.get_url() : util_1.Util.replaceUrlTokens(n.Url));\n                                newNode.set_asLastNode(true);\n                                quickLaunchNodeCollection_1.add(newNode);\n                            });\n                            clientContext.executeQueryAsync(function () {\n                                httpClient.get(_spPageContextInfo.webAbsoluteUrl + \"/_api/web/Navigation/QuickLaunch\").then(function (response) {\n                                    response.json().then(function (json) {\n                                        json.value.forEach(function (d) {\n                                            var node = navigation.getNodeById(d.Id);\n                                            var childrenNodeCollection = node.get_children();\n                                            var parentNode = nodes.filter(function (value) { return value.Title === d.Title; })[0];\n                                            if (parentNode && parentNode.Children) {\n                                                parentNode.Children.forEach(function (n) {\n                                                    var existingNode = _this.getNodeFromCollectionByTitle(temporaryQuickLaunch, n.Title);\n                                                    var newNode = new SP.NavigationNodeCreationInformation();\n                                                    newNode.set_title(n.Title);\n                                                    newNode.set_url(existingNode\n                                                        ? existingNode.get_url()\n                                                        : util_1.Util.replaceUrlTokens(n.Url));\n                                                    newNode.set_asLastNode(true);\n                                                    childrenNodeCollection.add(newNode);\n                                                });\n                                            }\n                                        });\n                                        clientContext.executeQueryAsync(resolve, resolve);\n                                    });\n                                });\n                            }, resolve);\n                        });\n                    });\n                }\n            });\n        };\n        return ObjectNavigation;\n    }(ObjectHandlerBase_1.ObjectHandlerBase));\n    exports.ObjectNavigation = ObjectNavigation;\n});\n\n},{\"../util\":18,\"./ObjectHandlerBase\":10}],13:[function(require,module,exports){\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", \"../util\", \"./ObjectHandlerBase\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var util_1 = require(\"../util\");\n    var ObjectHandlerBase_1 = require(\"./ObjectHandlerBase\");\n    var ObjectPropertyBagEntries = (function (_super) {\n        __extends(ObjectPropertyBagEntries, _super);\n        function ObjectPropertyBagEntries() {\n            _super.call(this, \"PropertyBagEntries\");\n        }\n        ObjectPropertyBagEntries.prototype.ProvisionObjects = function (entries) {\n            var _this = this;\n            _super.prototype.scope_started.call(this);\n            return new Promise(function (resolve, reject) {\n                if (!entries || entries.length === 0) {\n                    resolve();\n                }\n                else {\n                    var clientContext_1 = SP.ClientContext.get_current();\n                    var web_1 = clientContext_1.get_web();\n                    var propBag_1 = web_1.get_allProperties();\n                    var indexedProperties_1 = [];\n                    for (var i = 0; i < entries.length; i++) {\n                        var entry = entries[i];\n                        propBag_1.set_item(entry.Key, entry.Value);\n                        if (entry.Indexed) {\n                            indexedProperties_1.push(util_1.Util.encodePropertyKey(entry.Key));\n                        }\n                        ;\n                    }\n                    ;\n                    web_1.update();\n                    clientContext_1.load(propBag_1);\n                    clientContext_1.executeQueryAsync(function () {\n                        if (indexedProperties_1.length > 0) {\n                            propBag_1.set_item(\"vti_indexedpropertykeys\", indexedProperties_1.join(\"|\"));\n                            web_1.update();\n                            clientContext_1.executeQueryAsync(function () {\n                                _super.prototype.scope_ended.call(_this);\n                                resolve();\n                            }, function () {\n                                _super.prototype.scope_ended.call(_this);\n                                resolve();\n                            });\n                        }\n                        else {\n                            _super.prototype.scope_ended.call(_this);\n                            resolve();\n                        }\n                    }, function () {\n                        _super.prototype.scope_ended.call(_this);\n                        resolve();\n                    });\n                }\n            });\n        };\n        return ObjectPropertyBagEntries;\n    }(ObjectHandlerBase_1.ObjectHandlerBase));\n    exports.ObjectPropertyBagEntries = ObjectPropertyBagEntries;\n});\n\n},{\"../util\":18,\"./ObjectHandlerBase\":10}],14:[function(require,module,exports){\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", \"./ObjectHandlerBase\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var ObjectHandlerBase_1 = require(\"./ObjectHandlerBase\");\n    var ObjectWebSettings = (function (_super) {\n        __extends(ObjectWebSettings, _super);\n        function ObjectWebSettings() {\n            _super.call(this, \"WebSettings\");\n        }\n        ObjectWebSettings.prototype.ProvisionObjects = function (object) {\n            var _this = this;\n            _super.prototype.scope_started.call(this);\n            return new Promise(function (resolve, reject) {\n                var clientContext = SP.ClientContext.get_current();\n                var web = clientContext.get_web();\n                if (object.WelcomePage) {\n                    web.get_rootFolder().set_welcomePage(object.WelcomePage);\n                    web.get_rootFolder().update();\n                }\n                if (object.MasterUrl) {\n                    web.set_masterUrl(object.MasterUrl);\n                }\n                if (object.CustomMasterUrl) {\n                    web.set_customMasterUrl(object.CustomMasterUrl);\n                }\n                if (object.SaveSiteAsTemplateEnabled !== undefined) {\n                    web.set_saveSiteAsTemplateEnabled(object.SaveSiteAsTemplateEnabled);\n                }\n                if (object.QuickLaunchEnabled !== undefined) {\n                    web.set_saveSiteAsTemplateEnabled(object.QuickLaunchEnabled);\n                }\n                if (object.TreeViewEnabled !== undefined) {\n                    web.set_treeViewEnabled(object.TreeViewEnabled);\n                }\n                web.update();\n                clientContext.load(web);\n                clientContext.executeQueryAsync(function () {\n                    _super.prototype.scope_ended.call(_this);\n                    resolve();\n                }, function () {\n                    _super.prototype.scope_ended.call(_this);\n                    resolve();\n                });\n            });\n        };\n        return ObjectWebSettings;\n    }(ObjectHandlerBase_1.ObjectHandlerBase));\n    exports.ObjectWebSettings = ObjectWebSettings;\n});\n\n},{\"./ObjectHandlerBase\":10}],15:[function(require,module,exports){\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var ProvisioningStep = (function () {\n        function ProvisioningStep(name, index, objects, parameters, handler) {\n            this.name = name;\n            this.index = index;\n            this.objects = objects;\n            this.parameters = parameters;\n            this.handler = handler;\n        }\n        ProvisioningStep.prototype.execute = function (dependentPromise) {\n            var _this = this;\n            var _handler = new this.handler();\n            if (!dependentPromise) {\n                return _handler.ProvisionObjects(this.objects, this.parameters);\n            }\n            return new Promise(function (resolve, reject) {\n                dependentPromise.then(function () {\n                    return _handler.ProvisionObjects(_this.objects, _this.parameters).then(resolve, resolve);\n                });\n            });\n        };\n        return ProvisioningStep;\n    }());\n    exports.ProvisioningStep = ProvisioningStep;\n});\n\n},{}],16:[function(require,module,exports){\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var Sequencer = (function () {\n        function Sequencer(functions, parameter, scope) {\n            this.functions = functions;\n            this.parameter = parameter;\n            this.scope = scope;\n        }\n        Sequencer.prototype.execute = function (progressFunction) {\n            var promiseSequence = Promise.resolve();\n            this.functions.forEach(function (sequenceFunction, functionNr) {\n                promiseSequence = promiseSequence.then(function () {\n                    return sequenceFunction.call(this.scope, this.parameter);\n                }).then(function (result) {\n                    if (progressFunction) {\n                        progressFunction.call(this, functionNr, this.functions);\n                    }\n                });\n            }, this);\n            return promiseSequence;\n        };\n        return Sequencer;\n    }());\n    exports.Sequencer = Sequencer;\n});\n\n},{}],17:[function(require,module,exports){\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", \"./ProvisioningStep\", \"./ObjectHandlers/ObjectNavigation\", \"./ObjectHandlers/ObjectPropertyBagEntries\", \"./ObjectHandlers/ObjectFeatures\", \"./ObjectHandlers/ObjectWebSettings\", \"./ObjectHandlers/ObjectComposedLook\", \"./ObjectHandlers/ObjectCustomActions\", \"./ObjectHandlers/ObjectFiles\", \"./ObjectHandlers/ObjectLists\", \"./util\", \"../../utils/logging\", \"../../net/HttpClient\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var ProvisioningStep_1 = require(\"./ProvisioningStep\");\n    var ObjectNavigation_1 = require(\"./ObjectHandlers/ObjectNavigation\");\n    var ObjectPropertyBagEntries_1 = require(\"./ObjectHandlers/ObjectPropertyBagEntries\");\n    var ObjectFeatures_1 = require(\"./ObjectHandlers/ObjectFeatures\");\n    var ObjectWebSettings_1 = require(\"./ObjectHandlers/ObjectWebSettings\");\n    var ObjectComposedLook_1 = require(\"./ObjectHandlers/ObjectComposedLook\");\n    var ObjectCustomActions_1 = require(\"./ObjectHandlers/ObjectCustomActions\");\n    var ObjectFiles_1 = require(\"./ObjectHandlers/ObjectFiles\");\n    var ObjectLists_1 = require(\"./ObjectHandlers/ObjectLists\");\n    var util_1 = require(\"./util\");\n    var logging_1 = require(\"../../utils/logging\");\n    var HttpClient_1 = require(\"../../net/HttpClient\");\n    var Provisioning = (function () {\n        function Provisioning() {\n            this.handlers = {\n                \"Navigation\": ObjectNavigation_1.ObjectNavigation,\n                \"PropertyBagEntries\": ObjectPropertyBagEntries_1.ObjectPropertyBagEntries,\n                \"Features\": ObjectFeatures_1.ObjectFeatures,\n                \"WebSettings\": ObjectWebSettings_1.ObjectWebSettings,\n                \"ComposedLook\": ObjectComposedLook_1.ObjectComposedLook,\n                \"CustomActions\": ObjectCustomActions_1.ObjectCustomActions,\n                \"Files\": ObjectFiles_1.ObjectFiles,\n                \"Lists\": ObjectLists_1.ObjectLists,\n            };\n            this.httpClient = new HttpClient_1.HttpClient();\n        }\n        Provisioning.prototype.applyTemplate = function (path) {\n            var _this = this;\n            var url = util_1.Util.replaceUrlTokens(path);\n            return new Promise(function (resolve, reject) {\n                _this.httpClient.get(url).then(function (response) {\n                    if (response.ok) {\n                        response.json().then(function (template) {\n                            _this.start(template, Object.keys(template)).then(resolve, reject);\n                        });\n                    }\n                    else {\n                        reject(response.statusText);\n                    }\n                }, function (error) {\n                    logging_1.Logger.write(\"Provisioning: The provided template is invalid\", logging_1.Logger.LogLevel.Error);\n                });\n            });\n        };\n        Provisioning.prototype.start = function (json, queue) {\n            var _this = this;\n            return new Promise(function (resolve, reject) {\n                _this.startTime = new Date().getTime();\n                _this.queueItems = [];\n                queue.forEach(function (q, index) {\n                    if (!_this.handlers[q]) {\n                        return;\n                    }\n                    _this.queueItems.push(new ProvisioningStep_1.ProvisioningStep(q, index, json[q], json.Parameters, _this.handlers[q]));\n                });\n                var promises = [];\n                promises.push(new Promise(function (res) {\n                    logging_1.Logger.write(\"Provisioning: Code execution scope started\", logging_1.Logger.LogLevel.Info);\n                    res();\n                }));\n                var index = 1;\n                while (_this.queueItems[index - 1] !== undefined) {\n                    var i = promises.length - 1;\n                    promises.push(_this.queueItems[index - 1].execute(promises[i]));\n                    index++;\n                }\n                ;\n                Promise.all(promises).then(function (value) {\n                    logging_1.Logger.write(\"Provisioning: Code execution scope ended\", logging_1.Logger.LogLevel.Info);\n                    resolve(value);\n                }, function (error) {\n                    logging_1.Logger.write(\"Provisioning: Code execution scope ended\" + JSON.stringify(error), logging_1.Logger.LogLevel.Error);\n                    reject(error);\n                });\n            });\n        };\n        return Provisioning;\n    }());\n    exports.Provisioning = Provisioning;\n});\n\n},{\"../../net/HttpClient\":3,\"../../utils/logging\":20,\"./ObjectHandlers/ObjectComposedLook\":6,\"./ObjectHandlers/ObjectCustomActions\":7,\"./ObjectHandlers/ObjectFeatures\":8,\"./ObjectHandlers/ObjectFiles\":9,\"./ObjectHandlers/ObjectLists\":11,\"./ObjectHandlers/ObjectNavigation\":12,\"./ObjectHandlers/ObjectPropertyBagEntries\":13,\"./ObjectHandlers/ObjectWebSettings\":14,\"./ProvisioningStep\":15,\"./util\":18}],18:[function(require,module,exports){\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var Util = (function () {\n        function Util() {\n        }\n        Util.getRelativeUrl = function (url) {\n            return url.replace(document.location.protocol + \"//\" + document.location.hostname, \"\");\n        };\n        Util.replaceUrlTokens = function (url) {\n            return url.replace(/{site}/g, _spPageContextInfo.webAbsoluteUrl)\n                .replace(/{sitecollection}/g, _spPageContextInfo.siteAbsoluteUrl)\n                .replace(/{themegallery}/g, _spPageContextInfo.siteAbsoluteUrl + \"/_catalogs/theme/15\");\n        };\n        ;\n        Util.encodePropertyKey = function (propKey) {\n            var bytes = [];\n            for (var i = 0; i < propKey.length; ++i) {\n                bytes.push(propKey.charCodeAt(i));\n                bytes.push(0);\n            }\n            var b64encoded = window.btoa(String.fromCharCode.apply(null, bytes));\n            return b64encoded;\n        };\n        return Util;\n    }());\n    exports.Util = Util;\n});\n\n},{}],19:[function(require,module,exports){\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\", \"../../utils/util\", \"../../utils/logging\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var util_1 = require(\"../../utils/util\");\n    var logging_1 = require(\"../../utils/logging\");\n    var ODataParserBase = (function () {\n        function ODataParserBase() {\n        }\n        ODataParserBase.prototype.parse = function (r) {\n            return r.json().then(function (json) {\n                if (json.hasOwnProperty(\"d\")) {\n                    if (json.d.hasOwnProperty(\"results\")) {\n                        return json.d.results;\n                    }\n                    return json.d;\n                }\n                else if (json.hasOwnProperty(\"value\")) {\n                    return json.value;\n                }\n                return json;\n            });\n        };\n        return ODataParserBase;\n    }());\n    exports.ODataParserBase = ODataParserBase;\n    var ODataDefaultParser = (function (_super) {\n        __extends(ODataDefaultParser, _super);\n        function ODataDefaultParser() {\n            _super.apply(this, arguments);\n        }\n        return ODataDefaultParser;\n    }(ODataParserBase));\n    exports.ODataDefaultParser = ODataDefaultParser;\n    var ODataRawParserImpl = (function () {\n        function ODataRawParserImpl() {\n        }\n        ODataRawParserImpl.prototype.parse = function (r) {\n            return r.json();\n        };\n        return ODataRawParserImpl;\n    }());\n    exports.ODataRawParserImpl = ODataRawParserImpl;\n    var ODataValueParserImpl = (function (_super) {\n        __extends(ODataValueParserImpl, _super);\n        function ODataValueParserImpl() {\n            _super.apply(this, arguments);\n        }\n        ODataValueParserImpl.prototype.parse = function (r) {\n            return _super.prototype.parse.call(this, r).then(function (d) { return d; });\n        };\n        return ODataValueParserImpl;\n    }(ODataParserBase));\n    var ODataEntityParserImpl = (function (_super) {\n        __extends(ODataEntityParserImpl, _super);\n        function ODataEntityParserImpl(factory) {\n            _super.call(this);\n            this.factory = factory;\n        }\n        ODataEntityParserImpl.prototype.parse = function (r) {\n            var _this = this;\n            return _super.prototype.parse.call(this, r).then(function (d) {\n                var o = new _this.factory(getEntityUrl(d), null);\n                return util_1.Util.extend(o, d);\n            });\n        };\n        return ODataEntityParserImpl;\n    }(ODataParserBase));\n    var ODataEntityArrayParserImpl = (function (_super) {\n        __extends(ODataEntityArrayParserImpl, _super);\n        function ODataEntityArrayParserImpl(factory) {\n            _super.call(this);\n            this.factory = factory;\n        }\n        ODataEntityArrayParserImpl.prototype.parse = function (r) {\n            var _this = this;\n            return _super.prototype.parse.call(this, r).then(function (d) {\n                return d.map(function (v) {\n                    var o = new _this.factory(getEntityUrl(v), null);\n                    return util_1.Util.extend(o, v);\n                });\n            });\n        };\n        return ODataEntityArrayParserImpl;\n    }(ODataParserBase));\n    function getEntityUrl(entity) {\n        if (entity.hasOwnProperty(\"__metadata\")) {\n            return entity.__metadata.uri;\n        }\n        else if (entity.hasOwnProperty(\"odata.editLink\")) {\n            return util_1.Util.combinePaths(\"_api\", entity[\"odata.editLink\"]);\n        }\n        else {\n            logging_1.Logger.write(\"No uri information found in ODataEntity parsing, chaining will fail for this object.\", logging_1.Logger.LogLevel.Warning);\n            return \"\";\n        }\n    }\n    exports.ODataRaw = new ODataRawParserImpl();\n    function ODataValue() {\n        return new ODataValueParserImpl();\n    }\n    exports.ODataValue = ODataValue;\n    function ODataEntity(factory) {\n        return new ODataEntityParserImpl(factory);\n    }\n    exports.ODataEntity = ODataEntity;\n    function ODataEntityArray(factory) {\n        return new ODataEntityArrayParserImpl(factory);\n    }\n    exports.ODataEntityArray = ODataEntityArray;\n});\n\n},{\"../../utils/logging\":20,\"../../utils/util\":21}],20:[function(require,module,exports){\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var Logger = (function () {\n        function Logger() {\n        }\n        Object.defineProperty(Logger, \"activeLogLevel\", {\n            get: function () {\n                return Logger.instance.activeLogLevel;\n            },\n            set: function (value) {\n                Logger.instance.activeLogLevel = value;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Logger, \"instance\", {\n            get: function () {\n                if (typeof Logger._instance === \"undefined\" || Logger._instance === null) {\n                    Logger._instance = new LoggerImpl();\n                }\n                return Logger._instance;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Logger.subscribe = function () {\n            var listeners = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                listeners[_i - 0] = arguments[_i];\n            }\n            for (var i = 0; i < listeners.length; i++) {\n                Logger.instance.subscribe(listeners[i]);\n            }\n        };\n        Logger.clearSubscribers = function () {\n            return Logger.instance.clearSubscribers();\n        };\n        Object.defineProperty(Logger, \"count\", {\n            get: function () {\n                return Logger.instance.count;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Logger.write = function (message, level) {\n            if (level === void 0) { level = Logger.LogLevel.Verbose; }\n            Logger.instance.log({ level: level, message: message });\n        };\n        Logger.log = function (entry) {\n            Logger.instance.log(entry);\n        };\n        Logger.measure = function (name, f) {\n            return Logger.instance.measure(name, f);\n        };\n        return Logger;\n    }());\n    exports.Logger = Logger;\n    var LoggerImpl = (function () {\n        function LoggerImpl(activeLogLevel, subscribers) {\n            if (activeLogLevel === void 0) { activeLogLevel = Logger.LogLevel.Warning; }\n            if (subscribers === void 0) { subscribers = []; }\n            this.activeLogLevel = activeLogLevel;\n            this.subscribers = subscribers;\n        }\n        LoggerImpl.prototype.subscribe = function (listener) {\n            this.subscribers.push(listener);\n        };\n        LoggerImpl.prototype.clearSubscribers = function () {\n            var s = this.subscribers.slice(0);\n            this.subscribers.length = 0;\n            return s;\n        };\n        Object.defineProperty(LoggerImpl.prototype, \"count\", {\n            get: function () {\n                return this.subscribers.length;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        LoggerImpl.prototype.write = function (message, level) {\n            if (level === void 0) { level = Logger.LogLevel.Verbose; }\n            this.log({ level: level, message: message });\n        };\n        LoggerImpl.prototype.log = function (entry) {\n            if (typeof entry === \"undefined\" || entry.level < this.activeLogLevel) {\n                return;\n            }\n            for (var i = 0; i < this.subscribers.length; i++) {\n                this.subscribers[i].log(entry);\n            }\n        };\n        LoggerImpl.prototype.measure = function (name, f) {\n            console.profile(name);\n            try {\n                return f();\n            }\n            finally {\n                console.profileEnd();\n            }\n        };\n        return LoggerImpl;\n    }());\n    var Logger;\n    (function (Logger) {\n        (function (LogLevel) {\n            LogLevel[LogLevel[\"Verbose\"] = 0] = \"Verbose\";\n            LogLevel[LogLevel[\"Info\"] = 1] = \"Info\";\n            LogLevel[LogLevel[\"Warning\"] = 2] = \"Warning\";\n            LogLevel[LogLevel[\"Error\"] = 3] = \"Error\";\n            LogLevel[LogLevel[\"Off\"] = 99] = \"Off\";\n        })(Logger.LogLevel || (Logger.LogLevel = {}));\n        var LogLevel = Logger.LogLevel;\n        var ConsoleListener = (function () {\n            function ConsoleListener() {\n            }\n            ConsoleListener.prototype.log = function (entry) {\n                var msg = this.format(entry);\n                switch (entry.level) {\n                    case LogLevel.Verbose:\n                    case LogLevel.Info:\n                        console.log(msg);\n                        break;\n                    case LogLevel.Warning:\n                        console.warn(msg);\n                        break;\n                    case LogLevel.Error:\n                        console.error(msg);\n                        break;\n                }\n            };\n            ConsoleListener.prototype.format = function (entry) {\n                return \"Message: \" + entry.message + \". Data: \" + JSON.stringify(entry.data);\n            };\n            return ConsoleListener;\n        }());\n        Logger.ConsoleListener = ConsoleListener;\n        var AzureInsightsListener = (function () {\n            function AzureInsightsListener(azureInsightsInstrumentationKey) {\n                this.azureInsightsInstrumentationKey = azureInsightsInstrumentationKey;\n                var appInsights = window[\"appInsights\"] || function (config) {\n                    function r(config) {\n                        t[config] = function () {\n                            var i = arguments;\n                            t.queue.push(function () { t[config].apply(t, i); });\n                        };\n                    }\n                    var t = { config: config }, u = document, e = window, o = \"script\", s = u.createElement(o), i, f;\n                    for (s.src = config.url || \"//az416426.vo.msecnd.net/scripts/a/ai.0.js\", u.getElementsByTagName(o)[0].parentNode.appendChild(s), t.cookie = u.cookie, t.queue = [], i = [\"Event\", \"Exception\", \"Metric\", \"PageView\", \"Trace\"]; i.length;) {\n                        r(\"track\" + i.pop());\n                    }\n                    return r(\"setAuthenticatedUserContext\"), r(\"clearAuthenticatedUserContext\"), config.disableExceptionTracking || (i = \"onerror\", r(\"_\" + i), f = e[i], e[i] = function (config, r, u, e, o) {\n                        var s = f && f(config, r, u, e, o);\n                        return s !== !0 && t[\"_\" + i](config, r, u, e, o), s;\n                    }), t;\n                }({\n                    instrumentationKey: this.azureInsightsInstrumentationKey\n                });\n                window[\"appInsights\"] = appInsights;\n            }\n            AzureInsightsListener.prototype.log = function (entry) {\n                var ai = window[\"appInsights\"];\n                var msg = this.format(entry);\n                if (entry.level === LogLevel.Error) {\n                    ai.trackException(msg);\n                }\n                else {\n                    ai.trackEvent(msg);\n                }\n            };\n            AzureInsightsListener.prototype.format = function (entry) {\n                return \"Message: \" + entry.message + \". Data: \" + JSON.stringify(entry.data);\n            };\n            return AzureInsightsListener;\n        }());\n        Logger.AzureInsightsListener = AzureInsightsListener;\n        var FunctionListener = (function () {\n            function FunctionListener(method) {\n                this.method = method;\n            }\n            FunctionListener.prototype.log = function (entry) {\n                this.method(entry);\n            };\n            return FunctionListener;\n        }());\n        Logger.FunctionListener = FunctionListener;\n    })(Logger = exports.Logger || (exports.Logger = {}));\n});\n\n},{}],21:[function(require,module,exports){\n(function (factory) {\n    if (typeof module === 'object' && typeof module.exports === 'object') {\n        var v = factory(require, exports); if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        define([\"require\", \"exports\"], factory);\n    }\n})(function (require, exports) {\n    \"use strict\";\n    var Util = (function () {\n        function Util() {\n        }\n        Util.getCtxCallback = function (context, method) {\n            var params = [];\n            for (var _i = 2; _i < arguments.length; _i++) {\n                params[_i - 2] = arguments[_i];\n            }\n            return function () {\n                method.apply(context, params);\n            };\n        };\n        Util.urlParamExists = function (name) {\n            name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n            var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\");\n            return regex.test(location.search);\n        };\n        Util.getUrlParamByName = function (name) {\n            name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n            var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\");\n            var results = regex.exec(location.search);\n            return results == null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n        };\n        Util.getUrlParamBoolByName = function (name) {\n            var p = this.getUrlParamByName(name);\n            var isFalse = (p === \"\" || /false|0/i.test(p));\n            return !isFalse;\n        };\n        Util.stringInsert = function (target, index, s) {\n            if (index > 0) {\n                return target.substring(0, index) + s + target.substring(index, target.length);\n            }\n            return s + target;\n        };\n        Util.dateAdd = function (date, interval, units) {\n            var ret = new Date(date.toLocaleString());\n            switch (interval.toLowerCase()) {\n                case \"year\":\n                    ret.setFullYear(ret.getFullYear() + units);\n                    break;\n                case \"quarter\":\n                    ret.setMonth(ret.getMonth() + 3 * units);\n                    break;\n                case \"month\":\n                    ret.setMonth(ret.getMonth() + units);\n                    break;\n                case \"week\":\n                    ret.setDate(ret.getDate() + 7 * units);\n                    break;\n                case \"day\":\n                    ret.setDate(ret.getDate() + units);\n                    break;\n                case \"hour\":\n                    ret.setTime(ret.getTime() + units * 3600000);\n                    break;\n                case \"minute\":\n                    ret.setTime(ret.getTime() + units * 60000);\n                    break;\n                case \"second\":\n                    ret.setTime(ret.getTime() + units * 1000);\n                    break;\n                default:\n                    ret = undefined;\n                    break;\n            }\n            return ret;\n        };\n        Util.loadStylesheet = function (path, avoidCache) {\n            if (avoidCache) {\n                path += \"?\" + encodeURIComponent((new Date()).getTime().toString());\n            }\n            var head = document.getElementsByTagName(\"head\");\n            if (head.length > 0) {\n                var e = document.createElement(\"link\");\n                head[0].appendChild(e);\n                e.setAttribute(\"type\", \"text/css\");\n                e.setAttribute(\"rel\", \"stylesheet\");\n                e.setAttribute(\"href\", path);\n            }\n        };\n        Util.combinePaths = function () {\n            var paths = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                paths[_i - 0] = arguments[_i];\n            }\n            var parts = [];\n            for (var i = 0; i < paths.length; i++) {\n                if (typeof paths[i] !== \"undefined\" && paths[i] !== null) {\n                    parts.push(paths[i].replace(/^[\\\\|\\/]/, \"\").replace(/[\\\\|\\/]$/, \"\"));\n                }\n            }\n            return parts.join(\"/\").replace(/\\\\/, \"/\");\n        };\n        Util.getRandomString = function (chars) {\n            var text = \"\";\n            var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n            for (var i = 0; i < chars; i++) {\n                text += possible.charAt(Math.floor(Math.random() * possible.length));\n            }\n            return text;\n        };\n        Util.getGUID = function () {\n            var d = new Date().getTime();\n            var guid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n                var r = (d + Math.random() * 16) % 16 | 0;\n                d = Math.floor(d / 16);\n                return (c === \"x\" ? r : (r & 0x3 | 0x8)).toString(16);\n            });\n            return guid;\n        };\n        Util.isFunction = function (candidateFunction) {\n            return typeof candidateFunction === \"function\";\n        };\n        Util.isArray = function (array) {\n            if (Array.isArray) {\n                return Array.isArray(array);\n            }\n            return array && typeof array.length === \"number\" && array.constructor === Array;\n        };\n        Util.stringIsNullOrEmpty = function (s) {\n            return typeof s === \"undefined\" || s === null || s === \"\";\n        };\n        Util.extend = function (target, source, noOverwrite) {\n            if (noOverwrite === void 0) { noOverwrite = false; }\n            var result = {};\n            for (var id in target) {\n                result[id] = target[id];\n            }\n            var check = noOverwrite ? function (o, i) { return !o.hasOwnProperty(i); } : function (o, i) { return true; };\n            for (var id in source) {\n                if (check(result, id)) {\n                    result[id] = source[id];\n                }\n            }\n            return result;\n        };\n        Util.applyMixins = function (derivedCtor) {\n            var baseCtors = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                baseCtors[_i - 1] = arguments[_i];\n            }\n            baseCtors.forEach(function (baseCtor) {\n                Object.getOwnPropertyNames(baseCtor.prototype).forEach(function (name) {\n                    derivedCtor.prototype[name] = baseCtor.prototype[name];\n                });\n            });\n        };\n        Util.isUrlAbsolute = function (url) {\n            return /^https?:\\/\\/|^\\/\\//i.test(url);\n        };\n        return Util;\n    }());\n    exports.Util = Util;\n});\n\n},{}]},{},[17])(17)\n});"],"sourceRoot":"/source/"}